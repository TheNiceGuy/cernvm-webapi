window.CVM={version:"2.0.9"};(function(t){var j="data:image/gif;base64,R0lGODlhIAAgALMAAGZmZnl5eczMzJ+fn////7Ozs4yMjGtra+Li4nFxcaampgAAAAAAAAAAAAAAAAAAACH5BAEHAAQALAAAAAAgACAAAASjkMhJq704681JKV04JYkYDgAwmBuSpgibGS9gyJdQpwJeBTtAwDcpBFMgYuJ1WKZKPlRqSACmVjLXK2l8xVi0raSbupl0Ne6uJ7K+zOEXtUOWS9zijrNGxT87UjtURyothAASh18YcUGJhGY5hzZ7R2wWfpNHcxR1lmiHSRSVQQoSCpNQE4GQEo1HWARamgcHmjCut7pvBKC7ugKZv4ecRMYsEQA7";var e="data:image/gif;base64,R0lGODlhIAAgAMQAAGZmZnt7e8TExK2treXl5dXV1Wtra4qKivj4+L29vd7e3pGRke/v78zMzLW1tYSEhHR0dJmZmQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEHAAgALAAAAAAgACAAAAXUICKOZGmeKMoUguMIBZPOY3IAeI4fCX0KEJ0wBxH4RouhMrfwEQLLKCBAmEGl0UAqmRUQBsumSYBtjG5KYykoVYwiS0gpgQUsZAVp71zHsaMHIwx9hAAyCHmACQoEDn9RBSJkSweMI5NSag51VSJ1DiKbWJ0In5JYBiOJmSKrYSNgWJEIg3ojV1KHCGhLnbVSgTVRciINdXsjjzpaxVjEJJhDbiIKCrhCaiVcQwEJBAoJD68o14VTM0/mOFQ+231iR0B1RUdzvEI89SosLjC6+gBnhAAAOw==";var m="data:image/gif;base64,R0lGODlhIAAgALMAAGZmZpOTk93d3Wtra8zMzLW1tXNzc3p6eu/v78XFxYODg9bW1qWlpejo6Pj4+IqKiiH5BAEHAA4ALAAAAAAgACAAAATr0MlJq7046827p4QBGMTHicBoVohApTAlIN4yjE1TwGmRH4DBooMa3XipQXFA0wiQ0ChguAHyFCUJQYE8dBqogY8BPDB0R0Pje0zYkMJEcs3ZAQKII7zx6GlCPAsMKQcuC1YMBDwkF0UpDih0DgspBghIBhdQDjcDEgEOl0EOmxaOAJApLlqVojCZFoeBgwAHQ4AAiTy2GnZ4p619AAUdeSlupwYLckFNG2BJBQgMIgYMCAVpkhpWMFg0CFuYHE9S5lMnr3o8SjBM5DcHDdhI0g1AQh+rEkgyziupKgHMsKAalYEIEypcyHBDBAA7";var v="data:image/gif;base64,R0lGODlhIAAgANUAAPX19fT09PLy8vDw8O7u7uzs7OLi4tnZ2c/Pz83NzczMzMXFxby8vLKysqmpqZ+fn5iYmJWVlZKSkoyMjICAgHx8fHl5eXZ2dnR0dHBwcG9vb21tbWtra2pqamhoaGdnZ2ZmZkxMTEpKSv///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEHACMALAAAAAAgACAAAAauwJFwSCwaj8ikcln5OJ/QqFRKnFqv0OpnyR05tV3mdvgNC87GslCtFbnf7/R4PTfLwfYjm41I+P+AgYB7cyAZG4iJiouIdHh5RYSQd2R1Sg0RDwwAkXV8R5iGoguPXpZGDKKqIAeVpXqrqq6zSbGyjrSgtqO4vbq7rL5Ylbumhm0eycoSQ6GxfYqQD8+TqNMTDgXV23nY0A3cyMHhdBqG4OSmBgvj5BEGQgvo6WFBADs=";var b=null,k=false,o=[];t.debugLogging=true;t.version="1.0";t.markPageLoaded=function(){k=true};t.launchRDP=function(H,E){var G=800,B=600,F=24;if(E!=undefined){var D=E.split("x");G=parseInt(D[0]);B=parseInt(D[1]);if(D.length>2){F=parseInt(D[2])}}var C=window.open("http://cernvm.cern.ch/releases/webapi/webrdp/webclient.html#"+H+","+G+","+B,"WebRDPClient","width="+G+",height="+(B+100));C.moveTo((screen.width-G)/2,(screen.height-(B+100))/2);setTimeout(function(){C.focus()},100);C.focus();return C};t.startCVMWebAPI=function(E,D,B){var C=function(){var F=new t.WebAPIPlugin();F.connect(function(G){if(G){E(F)}else{var H=document.createElement("iframe");H.src="http://labs.wavesoft.gr/webapi/install";H.width="100%";H.height=400;H.frameBorder=0;c.createFramedWindow({body:H,icon:m,disposable:false});var I=function(){F=new t.WebAPIPlugin();F.connect(function(J){if(J){E(F);c.hideInteraction()}else{setTimeout(function(){I()},1000)}},false)};I()}})};if(!k){o.push(C)}else{C()}};var l=0;var d=1;var q="ws://127.0.0.1:5624",i="cernvm-webapi://launch";var u=1,g=2,h=4,x=8,n=16;var f=1,z=2,A=256;var p=1;function y(C){var B=["missing","available","poweroff","saved","paused","running"];if((C<0)||(C>=B.length)){return"unknown"}return B[C]}var a="cernvm-webapi-launcher-"+(Math.random().toString().substr(2));t.EventDispatcher=function(B){this.events={}};t.EventDispatcher.prototype.__fire=function(C,B){if(t.debugLogging){console.log("Firing",C,"(",B,")")}if(this.events[C]==undefined){return}var E=this.events[C];for(var D=0;D<E.length;D++){E[D].apply(this,B)}};t.EventDispatcher.prototype.addEventListener=function(B,C){if(this.events[B]==undefined){this.events[B]=[]}this.events[B].push(C)};t.EventDispatcher.prototype.removeEventListener=function(B,D){if(this.events[B]==undefined){return}var C=this.events[B].indexOf(D);if(C<0){return}this.events.splice(C,1)};var s=function(C){var B=0;if(C.use64bit){B|=u}if(C.useBootDisk){B|=g}if(C.useGuestAdditions){B|=h}if(C.useFloppyIO){B|=x}if(C.headful){B|=n}return B};var r=function(D){var B=function(E){D.__config.flags=E;D.setAsync("flags",E)},C=function(){return D.__config.flags};Object.defineProperties(this,{value:{get:function(){return C()},set:function(E){B(E)}},use64bit:{get:function(){return((C()&u)!=0)},set:function(E){if(E){B(C()|u)}else{B(C()&~u)}}},useBootDisk:{get:function(){return((C()&g)!=0)},set:function(E){if(E){B(C()|g)}else{B(C()&~g)}}},useGuestAdditions:{get:function(){return((C()&h)!=0)},set:function(E){if(E){B(C()|h)}else{B(C()&~h)}}},useFloppyIO:{get:function(){return((C()&x)!=0)},set:function(E){if(E){B(C()|x)}else{B(C()&~x)}}},headful:{get:function(){return((C()&n)!=0)},set:function(E){if(E){B(C()|n)}else{B(C()&~n)}}}})};t.ProgressFeedback=function(){};t.Socket=function(){t.EventDispatcher.call(this);this.interaction=new c(this);this.connecting=false;this.connected=false;this.socket=null;this.lastID=0;this.responseCallbacks={};this.authToken="";if(window.location.hash){this.authToken=window.location.hash.substr(1)}};t.Socket.prototype=Object.create(t.EventDispatcher.prototype);t.Socket.prototype.__handleClose=function(){this.__fire("disconnected",[]);c.hideInteraction()};t.Socket.prototype.__handleOpen=function(B){this.__fire("connected",B.version)};t.Socket.prototype.__handleData=function(C){var D=JSON.parse(C);if(D.id){var B=this.responseCallbacks[D.id];if(B!=undefined){B(D)}}else{if(D.type=="event"){var C=D.data;if(D.name=="interact"){this.interaction.handleInteractionEvent(D.data)}else{this.__fire(D.name,D.data)}}}};t.Socket.prototype.send=function(D,E,G,F){var I=this;var H=null;var J="a-"+(++this.lastID);var B={type:"action",name:D,id:J,data:E||{}};if(typeof(G)=="function"){if(F!==0){H=setTimeout(function(){delete I.responseCallbacks[J];G(null,"Response timeout")},F||10000)}this.responseCallbacks[J]=function(K){if(H!=null){clearTimeout(H)}if(K.type=="result"){delete I.responseCallbacks[J];G(K.data)}}}else{if(typeof(G)=="object"){var C=function(K){if(!K){return""}return"on"+K[0].toUpperCase()+K.substr(1)};if(F!==0){H=setTimeout(function(){delete I.responseCallbacks[J];if(G.onError){G.onError("Response timeout")}},F||10000)}this.responseCallbacks[J]=function(L){if(H!=null){clearTimeout(H)}if((L.name=="succeed")||(L.name=="failed")){delete I.responseCallbacks[J]}var K=C(L.name);if(G[K]){G[K].apply(I,L.data||[])}}}}this.socket.send(JSON.stringify(B))};t.Socket.prototype.close=function(){if(!this.connected){return}this.socket.close();this.connected=false;this.__handleClose()};t.Socket.prototype.connect=function(B,C){var J=this;if(this.connected){return}if(C==undefined){C=false}if(this.connecting){return}this.connecting=true;var I=function(K,N){try{if(!N){N=500}var M=false,P=setTimeout(function(){M=true;K(false)},N);var L=new WebSocket(q);L.onerror=function(Q){if(M){return}clearTimeout(P);if(!J.connecting){return}L.close();K(false)};L.onopen=function(Q){if(M){return}clearTimeout(P);if(!J.connecting){return}K(true,L)}}catch(O){console.warn("[socket] Error setting up socket! ",O);if(M){return}clearTimeout(P);if(!J.connecting){return}L.close();K(false)}};var E=function(O,Q,T,L){var M=new Date().getTime();if(!L){L=M}if(!T){T=500}var K=Q-(M-L);var N=false,R=setTimeout(function(){N=true;O(false)},K);var S=function(V,U){if(N){return}if(V){clearTimeout(R);O(true,U)}else{if(K<T){return}clearTimeout(R);setTimeout(function(){E(O,Q,T,L)},T)}};var P=500;if(K<P){P=K}I(S,P)};var D=function(K){J.connecting=false;J.connected=true;J.socket=K;J.socket.onclose=function(){console.warn("Remotely disconnected from CernVM WebAPI");J.__handleClose()};J.socket.onmessage=function(L){J.__handleData(L.data)};J.send("handshake",{version:t.version,auth:J.authToken},function(N,M,L){console.info("Successful handshake with CernVM WebAPI v"+N.version);J.__handleOpen(N)});if(B){B(true)}};var G=function(K){console.error("Unable to contact CernVM WebAPI");if(!J.connecting){return}J.connecting=false;J.connected=false;if(B){B(false)}};var F=function(L,K){if(!L){G()}else{D(K)}};var H=function(M,K,O){var N=1,L=function(){console.log("[socket] Probe try");I(function(Q,P){if(Q){O(Q,P);return}else{if(++N>K){console.log("[socket] Ran out of retries");O(false);return}else{console.log("[socket] Scheduling retry in 100ms");setTimeout(L,100)}}},M)};console.log("[socket] Trying socket probe with ",K," retries");L()};console.log("[socket] Starting probe with 4 retries");H(500,4,function(L,K){if(L){console.log("[socket] Got socket");D(K)}else{if(C){console.log("[socket] Auto-launching");var M=document.getElementById(a);if(!M){M=document.createElement("iframe");M.style.width="1";M.style.height="1";M.style.position="absolute";M.style.left="-1000px";M.style.top="-1000px";M.id=a;document.body.appendChild(M)}var M=document.getElementById(a);M.src=i;E(F,5000)}else{G()}}})};var w=null;var c=t.UserInteraction=function(B){var C=this;this.socket=B;this.onResize=null;window.addEventListener("resize",function(){if(C.onResize){C.onResize()}})};c.hideScreen=function(C){try{document.body.removeChild(C)}catch(B){}};c.hideInteraction=function(){if(c.activeScreen!=null){try{document.body.removeChild(c.activeScreen)}catch(B){}c.activeScreen=null}};c.createButton=function(E,F){var C=document.createElement("button");C.innerHTML=E;C.style.display="inline-block";C.style.marginBottom="0";C.style.textAlign="center";C.style.verticalAlign="middle";C.style.borderStyle="solid";C.style.borderWidth="1px";C.style.borderRadius=C.style.webkitBorderRadius=C.style.mozBorderRadius="4px";C.style.userSelect=C.style.webkitUserSelect=C.style.mozUserSelect=C.style.msUserSelect="none";C.style.margin="5px";C.style.padding="6px 12px";C.style.cursor="pointer";var B=function(H,L){var I=parseInt(H.slice(1),16),N=Math.round(2.55*L),K=(I>>16)+N,J=(I>>8&255)+N,M=(I&255)+N;return"#"+(16777216+(K<255?K<1?0:K:255)*65536+(J<255?J<1?0:J:255)*256+(M<255?M<1?0:M:255)).toString(16).slice(1)},D=function(K){var H=parseInt(K.slice(1),16),J=(H>>16),I=(H>>8&255),G=(H&255),L=(J*299+I*587+G*114)/1000;return(L>=128)?"black":"white"};C.style.backgroundColor=F;C.style.borderColor=B(F,-20);C.onmouseover=function(){C.style.backgroundColor=B(F,-10)};C.onmouseout=function(){C.style.backgroundColor=F};C.style.color=D(F);return C};c.createFramedWindow=function(D){if(!D){D={}}var G=D.body||"",F=D.header||false,P=D.footer||false,N=D.icon||false,I=D.onClose||false,M=(D.disposable!=undefined)?D.disposable:true;var L=document.createElement("div"),K=document.createElement("div"),C=document.createElement("div"),H=document.createElement("div"),E=document.createElement("div");L.style.position="absolute";L.style.left="0";L.style.top="0";L.style.right="0";L.style.bottom="0";L.style.zIndex=60000;L.style.backgroundColor="rgba(255,255,255,0.5)";L.appendChild(K);K.style.marginLeft="auto";K.style.marginRight="auto";K.style.marginBottom=0;K.style.marginTop=0;K.style.backgroundColor="#FCFCFC";K.style.border="solid 1px #E6E6E6";K.style.borderRadius=K.style.webkitBorderRadius=K.style.mozBorderRadius="5px";K.style.boxShadow=K.style.webkitBoxShadow=K.style.mozBoxShadow="1px 2px 4px 1px rgba(0,0,0,0.2)";K.style.padding="10px";K.style.fontFamily="Verdana, Geneva, sans-serif";K.style.fontSize="14px";K.style.color="#666;";K.style.width="70%";C.style.color="#333";C.style.marginBottom="8px";H.style.textAlign="center";H.style.color="#333";H.style.marginTop="8px";K.appendChild(C);if(F){if(typeof(F)=="string"){var J;if(N){J=document.createElement("img");J.src=N;J.style.verticalAlign="-8px";J.style.marginRight="6px"}else{J=document.createElement("span")}var B=document.createElement("span");B.innerHTML=F;B.style.fontSize="1.6em";B.style.marginBottom="8px";C.appendChild(J);C.appendChild(B)}else{C.appendChild(F)}}if(G){E.style.overflow="auto";E.appendChild(G)}K.appendChild(E);K.appendChild(H);if(P){if(typeof(P)=="string"){H.innerHTML=P}else{H.appendChild(P)}}var O=function(){var Q=C.offsetHeight+H.offsetHeight+50;var S=window.innerHeight-Q;E.style.maxHeight=S+"px";var R=(window.innerHeight-K.offsetHeight)/2;if(R<0){R=0}K.style.marginTop=R+"px"};L.onclick=function(){if(!M){return}if(I){I()}else{c.hideInteraction()}};K.onclick=function(Q){Q.stopPropagation()};c.hideInteraction();document.body.appendChild(L);c.activeScreen=L;O();this.onResize=O;return L};c.displayLicenseWindow=function(J,G,E,I,D){var F=document.createElement("div"),K=document.createElement("span"),C;K.innerHTML="&nbsp;";if(E){C=document.createElement("iframe"),C.src=G;C.width="100%";C.height=450;C.frameBorder=0}else{C=document.createElement("div");C.width="100%";C.style.height="450px";C.style.display="block";C.innerHTML=G.replace(/\n/g,"<br/>\n")}var B=c.createButton("Accept License","#E1E1E1");lnkCancel=c.createButton("Decline License","#FAFAFA");F.style.padding="6px";F.appendChild(B);F.appendChild(K);F.appendChild(lnkCancel);var H;H=c.createFramedWindow({body:C,header:J,footer:F,icon:v,onClose:function(){document.body.removeChild(H);if(D){D()}}});B.onclick=function(){document.body.removeChild(H);if(I){I()}};lnkCancel.onclick=function(){document.body.removeChild(H);if(D){D()}};return win};c.confirm=function(G,B,I){var F=document.createElement("div"),H=document.createElement("div");F.innerHTML=B;F.style.width="100%";var E,D=c.createButton("Ok","#E1E1E1"),C=c.createButton("Cancel","#FAFAFA");D.onclick=function(){document.body.removeChild(E);I(true)};C.onclick=function(){document.body.removeChild(E);I(false)};H.appendChild(D);H.appendChild(C);E=c.createFramedWindow({body:F,header:G,footer:H,icon:e,onClose:function(){document.body.removeChild(E);I(false)}});return E};c.alert=function(F,B,H){var E=document.createElement("div"),G=document.createElement("div");E.innerHTML=B;E.style.width="100%";var D,C=c.createButton("Ok","#FAFAFA");C.onclick=function(){document.body.removeChild(D)};G.appendChild(C);D=c.createFramedWindow({body:E,header:F,footer:G,icon:j});return D};c.occupied=function(E,B){var D=document.createElement("div");D.innerHTML=B;D.style.width="100%";var C=c.createFramedWindow({body:D,header:E,icon:m,disposable:false});return C};c.confirmLicense=function(C,B,D){c.displayLicenseWindow(C,B,false,function(){D(true)},function(){D(false)})};c.confirmLicenseURL=function(C,B,D){c.displayLicenseWindow(C,B,true,function(){D(true)},function(){D(false)})};c.controlOccupied=function(B,C){if(B){if(!w){w=c.occupied("Installation in progress","<p>Pay attention on the the pop-up windows and follow the on-screen instructions.</p><p>When completed, please close any open installation window in order to continue.</p>")}}else{if(w){c.hideScreen(w);w=null}}};c.prototype.handleInteractionEvent=function(C){var B=this.socket;if(C[0]=="confirm"){c.confirm(C[1],C[2],function(D,E){if(D){B.send("interactionCallback",{result:f|(E?A:0)})}else{B.send("interactionCallback",{result:z|(E?A:0)})}})}else{if(C[0]=="alert"){c.alert(C[1],C[2],function(D){})}else{if(C[0]=="confirmLicense"){c.confirmLicense(C[1],C[2],function(D,E){if(D){B.send("interactionCallback",{result:f|(E?A:0)})}else{B.send("interactionCallback",{result:z|(E?A:0)})}})}else{if(C[0]=="confirmLicenseURL"){c.confirmLicenseURL(C[1],C[2],function(D,E){if(D){B.send("interactionCallback",{result:f|(E?A:0)})}else{B.send("interactionCallback",{result:z|(E?A:0)})}})}}}}};t.WebAPIPlugin=function(){t.Socket.call(this)};t.WebAPIPlugin.prototype=Object.create(t.Socket.prototype);t.WebAPIPlugin.prototype.stopService=function(){this.send("stopService")};t.WebAPIPlugin.prototype.requestSession=function(E,D,C){var B=this;this.send("requestSession",{vmcp:E},{onSucceed:function(H,F){var G=new t.WebAPISession(B,F,function(){if(D){D(G)}});B.responseCallbacks[F]=function(I){G.handleEvent(I)}},onFailed:function(G,F){console.error("Failed to request session! "+G);B.__fire("failed",[G]);if(C){C(G,F)}},onLengthyTask:function(G,F){t.UserInteraction.controlOccupied(F,G)},onProgress:function(G,F){B.__fire("progress",[G,F])},onStarted:function(F){B.__fire("started",[F])},onCompleted:function(F){B.__fire("completed",[F])}})};t.WebAPIPlugin.prototype.enumSessions=function(C){var B=this;if(!C){return}this.send("enumSessions",{},{onSucceed:function(D){C(D)},onFailed:function(E,D){C(null,E,D)}})};t.WebAPIPlugin.prototype.controlSession=function(C,D,E){var B=this;if(!E){return}this.send("controlSession",{session_id:C,action:D},{onSucceed:function(F){E(F)},onFailed:function(G,F){E(null,G,F)}})};t.WebAPISession=function(B,D,E){t.EventDispatcher.call(this);this.socket=B;this.session_id=D;this.__state=0;this.__apiState=false;this.__properties={};this.__config={};this.__valid=true;this.__lastRDPWindow=null;this.__initCallback=E;var C=undefined;Object.defineProperties(this,{state:{get:function(){if(!this.__valid){return C}return this.__state}},stateName:{get:function(){if(!this.__valid){return C}return y(this.__state)}},ip:{get:function(){if(!this.__valid){return C}return this.__config.ip}},memory:{get:function(){if(!this.__valid){return C}return this.__config.memory}},cpus:{get:function(){if(!this.__valid){return C}return this.__config.cpus}},disk:{get:function(){if(!this.__valid){return C}return this.__config.disk}},apiURL:{get:function(){if(!this.__valid){return C}return this.__config.apiURL}},apiAvailable:{get:function(){if(!this.__valid){return C}return this.__apiState}},rdpURL:{get:function(){if(!this.__valid){return C}return this.__config.rdpURL}},executionCap:{get:function(){if(!this.__valid){return C}return this.__config.executionCap},set:function(F){this.__config.executionCap=F;this.setAsync("executionCap",F)}},version:{get:function(){if(!this.__valid){return C}return this.__config.cernvmVersion},set:function(F){if(!this.__valid){return}this.__config.cernvmVersion=F;this.setAsync("cernvmVersion",F)}},"flavor ":{get:function(){if(!this.__valid){return C}return this.__config.cernvmFlavor},set:function(F){if(!this.__valid){return}this.__config.cernvmFlavor=F;this.setAsync("cernvmFlavor",F)}},diskURL:{get:function(){if(!this.__valid){return C}return this.__config.diskURL},set:function(F){if(!this.__valid){return}this.__config.diskURL=F;this.setAsync("diskURL",F)}},diskChecksum:{get:function(){if(!this.__valid){return C}return this.__config.diskChecksum},set:function(F){if(!this.__valid){return}this.__config.diskChecksum=F;this.setAsync("diskChecksum",F)}},flags:{get:function(){if(!this.__valid){return C}return new r(this)},set:function(F){if(typeof(F)=="number"){this.__config.flags=F}else{if(typeof(F)=="object"){this.__config.flags=s(F)}}}}})};t.WebAPISession.prototype=Object.create(t.EventDispatcher.prototype);t.WebAPISession.prototype.handleEvent=function(C){if(C.name=="stateVariables"){C=C.data;if(!C){return}else{if(C.length>=1){this.__config=C[0]||{}}if(C.length>=2){this.__properties=C[1]||{}}}if(this.__initCallback){this.__initCallback();this.__initCallback=null}return}else{if(C.name=="failure"){var B=C.data[0];if(B&p!=0){t.UserInteraction.alert("Virtualization Failure",'<p>The hypervisor was unable to use your hardware\'s virtualization capabilities. This happens either if you have an old hardware (more than 4 years old) or if the <strong>Virtualization Technology</strong> features is disabled from your <strong>BIOS</strong>.</p><p>There are various articles on the internet on how to enable this option from your BIOS. <a target="_blank" href="http://www.sysprobs.com/disable-enable-virtualization-technology-bios">You can read this article for example.</a></p>')}}else{if(C.name=="stateChanged"){this.__state=C.data[0]}else{if(C.name=="lengthyTask"){t.UserInteraction.controlOccupied(C.data[1],C.data[0])}else{if(C.name=="apiStateChanged"){this.__apiState=(C.data[0]==1)}else{if(C.name=="resolutionChanged"){if(this.__config.rdpURL!=undefined){var E=this.__config.rdpURL.split("@");this.__config.rdpURL=E[0]+"@"+C.data[0]+"x"+C.data[1]+"x"+C.data[2];if(this.__lastRDPWindow){try{this.__lastRDPWindow.resizeTo(parseInt(C.data[0]),parseInt(C.data[1]))}catch(D){}}}}}}}}}this.__fire(C.name,C.data)};t.WebAPISession.prototype.start=function(B){this.socket.send("start",{session_id:this.session_id,parameters:B||{}})};t.WebAPISession.prototype.stop=function(){this.socket.send("stop",{session_id:this.session_id})};t.WebAPISession.prototype.pause=function(){this.socket.send("pause",{session_id:this.session_id})};t.WebAPISession.prototype.resume=function(){this.socket.send("resume",{session_id:this.session_id})};t.WebAPISession.prototype.reset=function(){this.socket.send("reset",{session_id:this.session_id})};t.WebAPISession.prototype.hibernate=function(){this.socket.send("hibernate",{session_id:this.session_id})};t.WebAPISession.prototype.close=function(){this.socket.send("close",{session_id:this.session_id})};t.WebAPISession.prototype.getAsync=function(C,B){this.socket.send("get",{session_id:this.session_id,key:C},{onSucceed:function(D){if(B){B(D)}}})};t.WebAPISession.prototype.setAsync=function(D,C,B){this.socket.send("set",{session_id:this.session_id,key:D,value:C},{onSucceed:function(){if(B){B()}}})};t.WebAPISession.prototype.getProperty=function(B){if(!B){return""}if(this.__properties[B]==undefined){return""}return this.__properties[B]};t.WebAPISession.prototype.setProperty=function(B,C){if(!B){return""}this.__properties[B]=C;this.socket.send("setProperty",{session_id:this.session_id,key:B,value:C})};t.WebAPISession.prototype.openRDPWindow=function(E,B){var C=this;if(this.__config.rdpURL){var D=this.__config.rdpURL.split("@");this.__lastRDPWindow=t.launchRDP(D[0],D[1])}else{this.getAsync("rdpURL",function(G){var F=G.split("@");C.__lastRDPWindow=t.launchRDP(F[0],F[1])})}};if(window.jQuery==undefined){if(k){return}window.addEventListener("load",function(C){k=true;for(var B=0;B<o.length;B++){o[B]()}})}else{jQuery(function(){if(k){return}k=true;for(var B=0;B<o.length;B++){o[B]()}})}})(window.CVM);