window.CVM={version:"2.0.2"};(function(Z){var aa="data:image/gif;base64,R0lGODlhIAAgALMAAGZmZnl5eczMzJ+fn////7Ozs4yMjGtra+Li4nFxcaampgAAAAAAAAAAAAAAAAAAACH5BAEHAAQALAAAAAAgACAAAASjkMhJq704681JKV04JYkYDgAwmBuSpgibGS9gyJdQpwJeBTtAwDcpBFMgYuJ1WKZKPlRqSACmVjLXK2l8xVi0raSbupl0Ne6uJ7K+zOEXtUOWS9zijrNGxT87UjtURyothAASh18YcUGJhGY5hzZ7R2wWfpNHcxR1lmiHSRSVQQoSCpNQE4GQEo1HWARamgcHmjCut7pvBKC7ugKZv4ecRMYsEQA7";var ae="data:image/gif;base64,R0lGODlhIAAgAMQAAGZmZnt7e8TExK2treXl5dXV1Wtra4qKivj4+L29vd7e3pGRke/v78zMzLW1tYSEhHR0dJmZmQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEHAAgALAAAAAAgACAAAAXUICKOZGmeKMoUguMIBZPOY3IAeI4fCX0KEJ0wBxH4RouhMrfwEQLLKCBAmEGl0UAqmRUQBsumSYBtjG5KYykoVYwiS0gpgQUsZAVp71zHsaMHIwx9hAAyCHmACQoEDn9RBSJkSweMI5NSag51VSJ1DiKbWJ0In5JYBiOJmSKrYSNgWJEIg3ojV1KHCGhLnbVSgTVRciINdXsjjzpaxVjEJJhDbiIKCrhCaiVcQwEJBAoJD68o14VTM0/mOFQ+231iR0B1RUdzvEI89SosLjC6+gBnhAAAOw==";var M="data:image/gif;base64,R0lGODlhIAAgALMAAGZmZpOTk93d3Wtra8zMzLW1tXNzc3p6eu/v78XFxYODg9bW1qWlpejo6Pj4+IqKiiH5BAEHAA4ALAAAAAAgACAAAATr0MlJq7046827p4QBGMTHicBoVohApTAlIN4yjE1TwGmRH4DBooMa3XipQXFA0wiQ0ChguAHyFCUJQYE8dBqogY8BPDB0R0Pje0zYkMJEcs3ZAQKII7zx6GlCPAsMKQcuC1YMBDwkF0UpDih0DgspBghIBhdQDjcDEgEOl0EOmxaOAJApLlqVojCZFoeBgwAHQ4AAiTy2GnZ4p619AAUdeSlupwYLckFNG2BJBQgMIgYMCAVpkhpWMFg0CFuYHE9S5lMnr3o8SjBM5DcHDdhI0g1AQh+rEkgyziupKgHMsKAalYEIEypcyHBDBAA7";var I="data:image/gif;base64,R0lGODlhIAAgANUAAPX19fT09PLy8vDw8O7u7uzs7OLi4tnZ2c/Pz83NzczMzMXFxby8vLKysqmpqZ+fn5iYmJWVlZKSkoyMjICAgHx8fHl5eXZ2dnR0dHBwcG9vb21tbWtra2pqamhoaGdnZ2ZmZkxMTEpKSv///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEHACMALAAAAAAgACAAAAauwJFwSCwaj8ikcln5OJ/QqFRKnFqv0OpnyR05tV3mdvgNC87GslCtFbnf7/R4PTfLwfYjm41I+P+AgYB7cyAZG4iJiouIdHh5RYSQd2R1Sg0RDwwAkXV8R5iGoguPXpZGDKKqIAeVpXqrqq6zSbGyjrSgtqO4vbq7rL5Ylbumhm0eycoSQ6GxfYqQD8+TqNMTDgXV23nY0A3cyMHhdBqG4OSmBgvj5BEGQgvo6WFBADs=";var O=null,G=false,J=[];Z.debugLogging=true;Z.version="1.0";Z.markPageLoaded=function(){G=true};Z.launchRDP=function(an,ak){var am=800,ah=600,al=24;if(ak!=undefined){var aj=ak.split("x");am=parseInt(aj[0]);ah=parseInt(aj[1]);if(aj.length>2){al=parseInt(aj[2])}}var ai=window.open("http://cernvm.cern.ch/releases/webapi/webrdp/webclient.html#"+an+","+am+","+ah,"WebRDPClient","width="+am+",height="+ah);ai.moveTo((screen.width-am)/2,(screen.height-ah)/2);setTimeout(function(){ai.focus()},100);ai.focus();return ai};Z.startCVMWebAPI=function(ak,aj,ah){var ai=function(){var al=new Z.WebAPIPlugin();al.connect(function(am){if(am){ak(al)}else{var an=document.createElement("iframe");an.src="http://labs.wavesoft.gr/webapi/install";an.width="100%";an.height=400;an.frameBorder=0;u.createFramedWindow({body:an,icon:M,disposable:false});var ao=function(){al=new Z.WebAPIPlugin();al.connect(function(ap){if(ap){ak(al);u.hideInteraction()}else{setTimeout(function(){ao()},1000)}},false)};ao()}})};if(!G){J.push(ai)}else{ai()}};var k=0;var R=1;var af=2;var n=1;var r=0;var c=-1;var m=-2;var ac=-3;var e=-4;var b=-5;var N=-6;var p=-7;var x=-8;var z=-9;var L=-10;var h=-11;var j=-12;var s=-13;var P=-99;var l=-100;var K=0;var d=1;var Q=2;var y=3;var A=4;var S=5;var X=6;var ab=1;var w=2;var ad=4;var o=8;var U=16;var V=1;var E=0,H=1,q=2,v=3,F=4,a=function(ah){return["missing","available","poweroff","saved","paused"][ah]};var t=1;var W=2;function D(ah){if(ah==K){return"Closed"}if(ah==d){return"Oppening"}if(ah==Q){return"Open"}if(ah==y){return"Starting"}if(ah==A){return"Started"}if(ah==S){return"Error"}if(ah==X){return"Paused"}return"Unknown state "+ah}function C(ah){if(ah==af){return"Already exists"}if(ah==n){return"Scheduled"}if(ah==r){return"No error"}if(ah==c){return"Creation Error"}if(ah==m){return"Modification Error"}if(ah==ac){return"Control Error"}if(ah==e){return"Deletion Error"}if(ah==b){return"Query Error"}if(ah==N){return"I/O Error"}if(ah==p){return"Server/Library Error"}if(ah==x){return"Invalid state for such action"}if(ah==z){return"The requested resource was not found"}if(ah==L){return"Access denied"}if(ah==h){return"The requested action is not supported"}if(ah==j){return"Unable to validate the resource"}if(ah==s){return"The domain is not trusted"}if(ah==P){return"Usage error"}if(ah==l){return"The requested functionality is not implemented"}return"Unknown error #"+ah}Z.EventDispatcher=function(ah){this.events={}};Z.EventDispatcher.prototype.__fire=function(ai,ah){if(Z.debugLogging){console.log("Firing",ai,"(",ah,")")}if(this.events[ai]==undefined){return}var ak=this.events[ai];for(var aj=0;aj<ak.length;aj++){ak[aj].apply(this,ah)}};Z.EventDispatcher.prototype.addEventListener=function(ah,ai){if(this.events[ah]==undefined){this.events[ah]=[]}this.events[ah].push(ai)};Z.EventDispatcher.prototype.removeEventListener=function(ah,aj){if(this.events[ah]==undefined){return}var ai=this.events[ah].indexOf(aj);if(ai<0){return}this.events.splice(ai,1)};var ab=1;var w=2;var ad=4;var o=8;var ag=function(ai){var ah=0;if(ai.use64bit){ah|=ab}if(ai.useBootDisk){ah|=w}if(ai.useGuestAdditions){ah|=ad}if(ai.useFloppyIO){ah|=o}if(ai.HVF_HEADFUL){ah|=U}return ah};var f=function(aj){var ah=function(ak){aj.__config.flags=ak;aj.setAsync("flags",ak)},ai=function(){return aj.__config.flags};Object.defineProperties(this,{value:{get:function(){return ai()},set:function(ak){ah(ak)}},use64bit:{get:function(){return((ai()&ab)!=0)},set:function(ak){if(ak){ah(ai()|ab)}else{ah(ai()&~ab)}}},useBootDisk:{get:function(){return((ai()&w)!=0)},set:function(ak){if(ak){ah(ai()|w)}else{ah(ai()&~w)}}},useGuestAdditions:{get:function(){return((ai()&ad)!=0)},set:function(ak){if(ak){ah(ai()|ad)}else{ah(ai()&~ad)}}},useFloppyIO:{get:function(){return((ai()&o)!=0)},set:function(ak){if(ak){ah(ai()|o)}else{ah(ai()&~o)}}},headful:{get:function(){return((ai()&U)!=0)},set:function(ak){if(ak){ah(ai()|U)}else{ah(ai()&~U)}}}})};Z.ProgressFeedback=function(){};var g="ws://127.0.0.1:5624",T="cernvm-webapi:";Z.Socket=function(){Z.EventDispatcher.call(this);this.interaction=new u(this);this.connecting=false;this.connected=false;this.socket=null;this.lastID=0;this.responseCallbacks={};this.authToken="";if(window.location.hash){this.authToken=window.location.hash.substr(1)}};Z.Socket.prototype=Object.create(Z.EventDispatcher.prototype);Z.Socket.prototype.__handleClose=function(){this.__fire("disconnected",[]);u.hideInteraction()};Z.Socket.prototype.__handleOpen=function(ah){this.__fire("connected",ah.version)};Z.Socket.prototype.__handleData=function(ai){var aj=JSON.parse(ai);if(aj.id){var ah=this.responseCallbacks[aj.id];if(ah!=undefined){ah(aj)}}else{if(aj.type=="event"){var ai=aj.data;if(aj.name=="interact"){this.interaction.handleInteractionEvent(aj.data)}else{this.__fire(aj.name,aj.data)}}}};Z.Socket.prototype.send=function(aj,ak,am,al){var ao=this;var ap="a-"+(++this.lastID);var ah={type:"action",name:aj,id:ap,data:ak||{}};if(am){var an=null,ai=function(aq){if(!aq){return""}return"on"+aq[0].toUpperCase()+aq.substr(1)};if(al!==0){an=setTimeout(function(){delete ao.responseCallbacks[ap];if(am.onError){am.onError("Response timeout")}},al||10000)}this.responseCallbacks[ap]=function(ar){if(an!=null){clearTimeout(an)}if((ar.name=="succeed")||(ar.name=="failed")){delete ao.responseCallbacks[ap]}var aq=ai(ar.name);if(am[aq]){am[aq].apply(ao,ar.data||[])}}}this.socket.send(JSON.stringify(ah))};Z.Socket.prototype.close=function(){if(!this.connected){return}this.socket.close();this.connected=false;this.__handleClose()};Z.Socket.prototype.connect=function(al,ah){var ak=this;if(this.connected){return}if(ah==undefined){ah=true}if(this.connecting){return}this.connecting=true;var ao=function(ap,at){try{if(!at){at=100}var ar=false,av=setTimeout(function(){ar=true;ap(false)},at);var aq=new WebSocket(g);aq.onerror=function(aw){if(ar){return}clearTimeout(av);if(!ak.connecting){return}ap(false)};aq.onopen=function(aw){if(ar){return}clearTimeout(av);if(!ak.connecting){return}ap(true,aq)}}catch(au){console.warn("[socket] Error setting up socket! ",au);if(ar){return}ap(false)}};var aj=function(au,aw,az,aq){var ar=new Date().getTime();if(!aq){aq=ar}if(!az){az=500}var ap=aw-(ar-aq);var at=false,ax=setTimeout(function(){at=true;au(false)},ap);var ay=function(aB,aA){if(at){return}if(aB){clearTimeout(ax);au(true,aA)}else{if(ap<az){return}clearTimeout(ax);setTimeout(function(){aj(au,aw,az,aq)},az)}};var av=100;if(ap<av){av=ap}ao(ay,av)};var ai=function(ap){ak.connecting=false;ak.connected=true;ak.socket=ap;ak.socket.onclose=function(){console.warn("Remotely disconnected from CernVM WebAPI");ak.__handleClose()};ak.socket.onmessage=function(aq){ak.__handleData(aq.data)};ak.send("handshake",{version:Z.version,auth:ak.authToken},function(at,ar,aq){console.info("Successfuly contacted with CernVM WebAPI v"+at.version);ak.__handleOpen(at)});if(al){al(true)}};var an=function(ap){console.error("Unable to contact CernVM WebAPI");if(!ak.connecting){return}ak.connecting=false;ak.connected=false;if(al){al(false)}};var am=function(aq,ap){if(!aq){an()}else{ai(ap)}};ao(function(aq,ap){if(aq){ai(ap)}else{if(ah){var ar=document.createElement("iframe");ar.src=T+"//launch";ar.style.display="none";document.body.appendChild(ar);aj(am,5000)}else{an()}}})};var i=1,Y=2,B=256;var u=Z.UserInteraction=function(ah){var ai=this;this.socket=ah;this.onResize=null;window.addEventListener("resize",function(){if(ai.onResize){ai.onResize()}})};u.hideScreen=function(ai){try{document.body.removeChild(ai)}catch(ah){}};u.hideInteraction=function(){if(u.activeScreen!=null){try{document.body.removeChild(u.activeScreen)}catch(ah){}u.activeScreen=null}};u.createButton=function(ak,al){var ai=document.createElement("button");ai.innerHTML=ak;ai.style.display="inline-block";ai.style.marginBottom="0";ai.style.textAlign="center";ai.style.verticalAlign="middle";ai.style.borderStyle="solid";ai.style.borderWidth="1px";ai.style.borderRadius=ai.style.webkitBorderRadius=ai.style.mozBorderRadius="4px";ai.style.userSelect=ai.style.webkitUserSelect=ai.style.mozUserSelect=ai.style.msUserSelect="none";ai.style.margin="5px";ai.style.padding="6px 12px";ai.style.cursor="pointer";var ah=function(am,aq){var an=parseInt(am.slice(1),16),at=Math.round(2.55*aq),ap=(an>>16)+at,ao=(an>>8&255)+at,ar=(an&255)+at;return"#"+(16777216+(ap<255?ap<1?0:ap:255)*65536+(ao<255?ao<1?0:ao:255)*256+(ar<255?ar<1?0:ar:255)).toString(16).slice(1)},aj=function(aq){var an=parseInt(aq.slice(1),16),ap=(an>>16),ao=(an>>8&255),am=(an&255),ar=(ap*299+ao*587+am*114)/1000;return(ar>=128)?"black":"white"};ai.style.backgroundColor=al;ai.style.borderColor=ah(al,-20);ai.onmouseover=function(){ai.style.backgroundColor=ah(al,-10)};ai.onmouseout=function(){ai.style.backgroundColor=al};ai.style.color=aj(al);return ai};u.createFramedWindow=function(aj){if(!aj){aj={}}var am=aj.body||"",al=aj.header||false,aw=aj.footer||false,au=aj.icon||false,ao=aj.onClose||false,at=(aj.disposable!=undefined)?aj.disposable:true;var ar=document.createElement("div"),aq=document.createElement("div"),ai=document.createElement("div"),an=document.createElement("div"),ak=document.createElement("div");ar.style.position="absolute";ar.style.left="0";ar.style.top="0";ar.style.right="0";ar.style.bottom="0";ar.style.zIndex=60000;ar.style.backgroundColor="rgba(255,255,255,0.5)";ar.appendChild(aq);aq.style.marginLeft="auto";aq.style.marginRight="auto";aq.style.marginBottom=0;aq.style.marginTop=0;aq.style.backgroundColor="#FCFCFC";aq.style.border="solid 1px #E6E6E6";aq.style.borderRadius=aq.style.webkitBorderRadius=aq.style.mozBorderRadius="5px";aq.style.boxShadow=aq.style.webkitBoxShadow=aq.style.mozBoxShadow="1px 2px 4px 1px rgba(0,0,0,0.2)";aq.style.padding="10px";aq.style.fontFamily="Verdana, Geneva, sans-serif";aq.style.fontSize="14px";aq.style.color="#666;";aq.style.width="70%";ai.style.color="#333";ai.style.marginBottom="8px";an.style.textAlign="center";an.style.color="#333";an.style.marginTop="8px";aq.appendChild(ai);if(al){if(typeof(al)=="string"){var ap;if(au){ap=document.createElement("img");ap.src=au;ap.style.verticalAlign="-8px";ap.style.marginRight="6px"}else{ap=document.createElement("span")}var ah=document.createElement("span");ah.innerHTML=al;ah.style.fontSize="1.6em";ah.style.marginBottom="8px";ai.appendChild(ap);ai.appendChild(ah)}else{ai.appendChild(al)}}if(am){ak.style.overflow="auto";ak.appendChild(am)}aq.appendChild(ak);aq.appendChild(an);if(aw){if(typeof(aw)=="string"){an.innerHTML=aw}else{an.appendChild(aw)}}var av=function(){var ax=ai.offsetHeight+an.offsetHeight+50;var az=window.innerHeight-ax;ak.style.maxHeight=az+"px";var ay=(window.innerHeight-aq.offsetHeight)/2;if(ay<0){ay=0}aq.style.marginTop=ay+"px"};ar.onclick=function(){if(!at){return}if(ao){ao()}else{u.hideInteraction()}};aq.onclick=function(ax){ax.stopPropagation()};u.hideInteraction();document.body.appendChild(ar);u.activeScreen=ar;av();this.onResize=av;return ar};u.displayLicenseWindow=function(ap,am,ak,ao,aj){var al=document.createElement("div"),aq=document.createElement("span"),ai;aq.innerHTML="&nbsp;";if(ak){ai=document.createElement("iframe"),ai.src=am;ai.width="100%";ai.height=450;ai.frameBorder=0}else{am=am.replace(/\n/g,"<br />\n");ai=document.createElement("div");ai.width="100%";ai.style.height="450px";ai.style.display="block";ai.innerHTML=am}var ah=u.createButton("Accept License","#E1E1E1");lnkCancel=u.createButton("Decline License","#FAFAFA");al.style.padding="6px";al.appendChild(ah);al.appendChild(aq);al.appendChild(lnkCancel);var an;an=u.createFramedWindow({body:ai,header:ap,footer:al,icon:I,onClose:function(){document.body.removeChild(an);if(aj){aj()}}});ah.onclick=function(){document.body.removeChild(an);if(ao){ao()}};lnkCancel.onclick=function(){document.body.removeChild(an);if(aj){aj()}};return win};u.confirm=function(am,ah,ao){var al=document.createElement("div"),an=document.createElement("div");al.innerHTML=ah;al.style.width="100%";var ak,aj=u.createButton("Ok","#E1E1E1"),ai=u.createButton("Cancel","#FAFAFA");aj.onclick=function(){document.body.removeChild(ak);ao(true)};ai.onclick=function(){document.body.removeChild(ak);ao(false)};an.appendChild(aj);an.appendChild(ai);ak=u.createFramedWindow({body:al,header:am,footer:an,icon:ae,onClose:function(){document.body.removeChild(ak);ao(false)}});return ak};u.alert=function(al,ah,an){var ak=document.createElement("div"),am=document.createElement("div");ak.innerHTML=ah;ak.style.width="100%";var aj,ai=u.createButton("Ok","#FAFAFA");ai.onclick=function(){document.body.removeChild(aj)};am.appendChild(ai);aj=u.createFramedWindow({body:ak,header:al,footer:am,icon:aa});return aj};u.occupied=function(ak,ah){var aj=document.createElement("div");aj.innerHTML=ah;aj.style.width="100%";var ai=u.createFramedWindow({body:aj,header:ak,icon:M});return ai};u.confirmLicense=function(ai,ah,aj){u.displayLicenseWindow(ai,ah,false,function(){aj(true)},function(){aj(false)})};u.confirmLicenseURL=function(ai,ah,aj){u.displayLicenseWindow(ai,ah,true,function(){aj(true)},function(){aj(false)})};u.prototype.handleInteractionEvent=function(ai){var ah=this.socket;if(ai[0]=="confirm"){u.confirm(ai[1],ai[2],function(aj,ak){if(aj){ah.send("interactionCallback",{result:i|(ak?B:0)})}else{ah.send("interactionCallback",{result:Y|(ak?B:0)})}})}else{if(ai[0]=="alert"){u.alert(ai[1],ai[2],function(aj){})}else{if(ai[0]=="confirmLicense"){u.confirmLicense(ai[1],ai[2],function(aj,ak){if(aj){ah.send("interactionCallback",{result:i|(ak?B:0)})}else{ah.send("interactionCallback",{result:Y|(ak?B:0)})}})}else{if(ai[0]=="confirmLicenseURL"){u.confirmLicenseURL(ai[1],ai[2],function(aj,ak){if(aj){ah.send("interactionCallback",{result:i|(ak?B:0)})}else{ah.send("interactionCallback",{result:Y|(ak?B:0)})}})}}}}};Z.WebAPIPlugin=function(){Z.Socket.call(this)};Z.WebAPIPlugin.prototype=Object.create(Z.Socket.prototype);Z.WebAPIPlugin.prototype.stopService=function(){this.send("stopService")};Z.WebAPIPlugin.prototype.requestSession=function(ak,aj,ai){var ah=this;this.send("requestSession",{vmcp:ak},{onSucceed:function(an,al){var am=new Z.WebAPISession(ah,al,function(){if(aj){aj(am)}});ah.responseCallbacks[al]=function(ao){am.handleEvent(ao)}},onFailed:function(am,al){console.error("Failed to request session! "+am);ah.__fire("failed",[am]);if(ai){ai(am,al)}},onProgress:function(am,al){ah.__fire("progress",[am,al])},onStarted:function(al){ah.__fire("started",[al])},onCompleted:function(al){ah.__fire("completed",[al])}})};function a(ai){var ah=["missing","available","poweroff","saved","paused","running"];if((ai<0)||(ai>=ah.length)){return"unknown"}return ah[ai]}Z.WebAPISession=function(ah,aj,ak){Z.EventDispatcher.call(this);this.socket=ah;this.session_id=aj;this.__state=0;this.__properties={};this.__config={};this.__valid=true;this.__lastRDPWindow=null;this.__initCallback=ak;var ai=undefined;Object.defineProperties(this,{state:{get:function(){if(!this.__valid){return ai}return this.__state}},stateName:{get:function(){if(!this.__valid){return ai}return a(this.__state)}},ip:{get:function(){if(!this.__valid){return ai}return this.__config.ip}},memory:{get:function(){if(!this.__valid){return ai}return this.__config.memory}},cpus:{get:function(){if(!this.__valid){return ai}return this.__config.cpus}},disk:{get:function(){if(!this.__valid){return ai}return this.__config.disk}},apiURL:{get:function(){if(!this.__valid){return ai}return this.__config.apiURL}},rdpURL:{get:function(){if(!this.__valid){return ai}return this.__config.rdpURL}},executionCap:{get:function(){if(!this.__valid){return ai}return this.__config.executionCap},set:function(al){this.__config.executionCap=al;this.setAsync("executionCap",al)}},version:{get:function(){if(!this.__valid){return ai}return this.__config.cernvmVersion},set:function(al){if(!this.__valid){return}this.__config.cernvmVersion=al;this.setAsync("cernvmVersion",al)}},"flavor ":{get:function(){if(!this.__valid){return ai}return this.__config.cernvmFlavor},set:function(al){if(!this.__valid){return}this.__config.cernvmFlavor=al;this.setAsync("cernvmFlavor",al)}},diskURL:{get:function(){if(!this.__valid){return ai}return this.__config.diskURL},set:function(al){if(!this.__valid){return}this.__config.diskURL=al;this.setAsync("diskURL",al)}},diskChecksum:{get:function(){if(!this.__valid){return ai}return this.__config.diskChecksum},set:function(al){if(!this.__valid){return}this.__config.diskChecksum=al;this.setAsync("diskChecksum",al)}},flags:{get:function(){if(!this.__valid){return ai}return new f(this)},set:function(al){if(typeof(al)=="number"){this.__config.flags=al}else{if(typeof(al)=="object"){this.__config.flags=ag(al)}}}}})};Z.WebAPISession.prototype=Object.create(Z.EventDispatcher.prototype);Z.WebAPISession.prototype.handleEvent=function(aj){if(aj.name=="stateVariables"){aj=aj.data;if(!aj){return}else{if(aj.length>=1){this.__config=aj[0]||{}}if(aj.length>=2){this.__properties=aj[1]||{}}}if(this.__initCallback){this.__initCallback();this.__initCallback=null}return}else{if(aj.name=="failure"){var ah=aj.data[0];if(ah&V!=0){Z.UserInteraction.alert("Virtualization Failure",'<p>The hypervisor was unable to use your hardware\'s virtualization capabilities. This happens either if you have an old hardware (more than 4 years old) or if the <strong>Virtualization Technology</strong> features is disabled from your <strong>BIOS</strong>.</p><p>There are various articles on the internet on how to enable this option from your BIOS. <a target="_blank" href="http://www.sysprobs.com/disable-enable-virtualization-technology-bios">You can read this article for example.</a></p>')}}else{if(aj.name=="stateChanged"){this.__state=aj.data[0]}else{if(aj.name=="lengthyTask"){var am=aj.data[0],ai=aj.data[1];if(ai){if(!Z.occupiedWindow){Z.occupiedWindow=Z.UserInteraction.occupied("Installation in progress","<p>Pay attention on the the pop-up windows and follow the on-screen instructions.</p><p>When completed, please close any open installation window in order to continue.</p>")}}else{if(Z.occupiedWindow){Z.UserInteraction.hideScreen(Z.occupiedWindow);Z.occupiedWindow=null}}}else{if(aj.name=="resolutionChanged"){if(this.__config.rdpURL!=undefined){var al=this.__config.rdpURL.split("@");this.__config.rdpURL=al[0]+"@"+aj.data[0]+"x"+aj.data[1]+"x"+aj.data[2];if(this.__lastRDPWindow){try{this.__lastRDPWindow.resizeTo(parseInt(aj.data[0]),parseInt(aj.data[1]))}catch(ak){}}}}}}}}this.__fire(aj.name,aj.data)};Z.WebAPISession.prototype.start=function(ah){this.socket.send("start",{session_id:this.session_id,parameters:ah||{}})};Z.WebAPISession.prototype.stop=function(){this.socket.send("stop",{session_id:this.session_id})};Z.WebAPISession.prototype.pause=function(){this.socket.send("pause",{session_id:this.session_id})};Z.WebAPISession.prototype.resume=function(){this.socket.send("resume",{session_id:this.session_id})};Z.WebAPISession.prototype.reset=function(){this.socket.send("reset",{session_id:this.session_id})};Z.WebAPISession.prototype.hibernate=function(){this.socket.send("hibernate",{session_id:this.session_id})};Z.WebAPISession.prototype.close=function(){this.socket.send("close",{session_id:this.session_id})};Z.WebAPISession.prototype.getAsync=function(ai,ah){this.socket.send("get",{session_id:this.session_id,key:ai},{onSucceed:function(aj){if(ah){ah(aj)}}})};Z.WebAPISession.prototype.setAsync=function(aj,ai,ah){this.socket.send("set",{session_id:this.session_id,key:aj,value:ai},{onSucceed:function(){if(ah){ah()}}})};Z.WebAPISession.prototype.getProperty=function(ah){if(!ah){return""}if(this.__properties[ah]==undefined){return""}return this.__properties[ah]};Z.WebAPISession.prototype.setProperty=function(ah,ai){if(!ah){return""}this.__properties[ah]=ai;this.socket.send("setProperty",{session_id:this.session_id,key:ah,value:ai})};Z.WebAPISession.prototype.openRDPWindow=function(ak,ah){var ai=this;if(this.__config.rdpURL){var aj=this.__config.rdpURL.split("@");this.__lastRDPWindow=Z.launchRDP(aj[0],aj[1])}else{this.getAsync("rdpURL",function(am){var al=am.split("@");ai.__lastRDPWindow=Z.launchRDP(al[0],al[1])})}};if(window.jQuery==undefined){if(G){return}window.addEventListener("load",function(ai){G=true;for(var ah=0;ah<J.length;ah++){J[ah]()}})}else{jQuery(function(){if(G){return}G=true;for(var ah=0;ah<J.length;ah++){J[ah]()}})}})(window.CVM);